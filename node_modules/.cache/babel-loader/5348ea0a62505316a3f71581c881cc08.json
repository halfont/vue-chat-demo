{"remainingRequest":"/home/tal/development/vue-scaffold/node_modules/babel-loader/lib/index.js!/home/tal/development/vue-scaffold/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/tal/development/vue-scaffold/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tal/development/vue-scaffold/src/views/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tal/development/vue-scaffold/src/views/Register.vue","mtime":1599596019333},{"path":"/home/tal/development/vue-scaffold/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tal/development/vue-scaffold/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/tal/development/vue-scaffold/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tal/development/vue-scaffold/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgYXhpb3MgPSByZXF1aXJlKCJheGlvcyIpOwoKaW1wb3J0IHN0b3JlIGZyb20gIi4uL3N0b3JlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZWdpc3RlciIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0ZXA6IDEsCiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgdXNlcm5hbWVSdWxlczogW2Z1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICEhdiB8fCAiTmFtZSBpcyByZXF1aXJlZCI7CiAgICAgIH1dLAogICAgICB2YWxpZDogdHJ1ZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG5leHRTdGVwTG9naWM6IGZ1bmN0aW9uIG5leHRTdGVwTG9naWMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnN0ZXArKzsKCiAgICAgIGlmICh0aGlzLnN0ZXAgPT09IDMpIHsKICAgICAgICBheGlvcy5wb3N0KCIvdXNlcnMiLCB7CiAgICAgICAgICBuYW1lOiB0aGlzLnVzZXJuYW1lCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZhciB1c2VybmFtZSA9IEpTT04ucGFyc2UocmVzcG9uc2UuY29uZmlnLmRhdGEpOwogICAgICAgICAgc3RvcmUuZGlzcGF0Y2goInJvb21zL3NldFJlZ2lzdGVyZWRVc2VyIiwgewogICAgICAgICAgICBuYW1lOiB1c2VybmFtZS5uYW1lLAogICAgICAgICAgICBpZDogcmVzcG9uc2UuZGF0YS51c2VySWQKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgIG5hbWU6ICJHcm91cFNlbGVjdCIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGN1cnJlbnRUaXRsZTogZnVuY3Rpb24gY3VycmVudFRpdGxlKCkgewogICAgICBzd2l0Y2ggKHRoaXMuc3RlcCkgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIHJldHVybiAiU2lnbi11cCI7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gIkFjY291bnQgY3JlYXRlZCI7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,OAAA,KAAA,MAAA,UAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,IAAA,EAAA,CADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,aAAA,EAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,CAAA,IAAA,kBAAA;AAAA,OAAA,CAHA;AAIA,MAAA,KAAA,EAAA;AAJA,KAAA;AAAA,GAFA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;;AACA,WAAA,IAAA;;AACA,UAAA,KAAA,IAAA,KAAA,CAAA,EAAA;AACA,QAAA,KAAA,CACA,IADA,CACA,QADA,EACA;AAAA,UAAA,IAAA,EAAA,KAAA;AAAA,SADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,cAAA,QAAA,GAAA,IAAA,CAAA,KAAA,CAAA,QAAA,CAAA,MAAA,CAAA,IAAA,CAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,yBAAA,EAAA;AACA,YAAA,IAAA,EAAA,QAAA,CAAA,IADA;AAEA,YAAA,EAAA,EAAA,QAAA,CAAA,IAAA,CAAA;AAFA,WAAA,EAGA,IAHA,CAGA,YAAA;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,cAAA,IAAA,EAAA;AAAA,aAAA;AACA,WALA;AAMA,SAVA,EAWA,KAXA,CAWA,UAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,SAbA;AAcA;AACA;AAnBA,GARA;AA6BA,EAAA,QAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,cAAA,KAAA,IAAA;AACA,aAAA,CAAA;AACA,iBAAA,SAAA;;AACA;AACA,iBAAA,iBAAA;AAJA;AAMA;AARA;AA7BA,CAAA","sourcesContent":["<template>\n  <v-card class=\"mx-auto\" max-width=\"500\" style=\"margin-top: 50px\">\n    <v-card-title class=\"title font-weight-regular justify-space-between\">\n      <span>{{ currentTitle }}</span>\n      <v-avatar color=\"primary lighten-2\" class=\"subheading white--text\" size=\"24\" v-text=\"step\"></v-avatar>\n    </v-card-title>\n    <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n      <v-window v-model=\"step\">\n        <v-window-item :value=\"1\">\n          <v-card-text>\n            <v-text-field\n              v-model=\"username\"\n              :rules=\"usernameRules\"\n              label=\"Name\"\n              placeholder=\"chat name\"\n            ></v-text-field>\n            <span\n              class=\"caption grey--text text--darken-1\"\n            >This is the Name you will use to login to your chat</span>\n          </v-card-text>\n        </v-window-item>\n\n        <v-window-item :value=\"2\">\n          <div class=\"pa-4 text-center\">\n            <v-img class=\"mb-4\" contain height=\"128\" src=\"@/assets/puppy.jpg\"></v-img>\n            <h3 class=\"title font-weight-light mb-2\">Welcome to the Chat Board</h3>\n            <span class=\"caption grey--text\">Thanks for signing up!</span>\n          </div>\n        </v-window-item>\n      </v-window>\n    </v-form>\n\n    <v-divider></v-divider>\n\n    <v-card-actions>\n      <v-btn :disabled=\"step === 1\" text @click=\"step--\">Back</v-btn>\n      <v-spacer></v-spacer>\n      <v-btn color=\"primary\" :disabled=\"!valid\" depressed @click=\"nextStepLogic\">Next</v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nconst axios = require(\"axios\");\nimport store from \"../store\";\n\nexport default {\n  name: \"Register\",\n  data: () => ({\n    step: 1,\n    username: \"\",\n    usernameRules: [(v) => !!v || \"Name is required\"],\n    valid: true,\n  }),\n  methods: {\n    nextStepLogic() {\n      this.step++;\n      if (this.step === 3) {\n        axios\n          .post(\"/users\", { name: this.username })\n          .then((response) => {\n            let username = JSON.parse(response.config.data);\n            store.dispatch(\"rooms/setRegisteredUser\", {\n              name: username.name,\n              id: response.data.userId,\n            }).then(() => {\n                this.$router.push({ name: \"GroupSelect\" });\n            });\n          })\n          .catch(function (error) {\n            console.log(error);\n          });\n      }\n    },\n  },\n  computed: {\n    currentTitle() {\n      switch (this.step) {\n        case 1:\n          return \"Sign-up\";\n        default:\n          return \"Account created\";\n      }\n    },\n  },\n};\n</script>"],"sourceRoot":"src/views"}]}