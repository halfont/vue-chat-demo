{"remainingRequest":"/home/tal/development/vue-scaffold/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tal/development/vue-scaffold/src/views/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tal/development/vue-scaffold/src/views/Register.vue","mtime":1599596019333},{"path":"/home/tal/development/vue-scaffold/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tal/development/vue-scaffold/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/tal/development/vue-scaffold/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tal/development/vue-scaffold/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IGF4aW9zID0gcmVxdWlyZSgiYXhpb3MiKTsKaW1wb3J0IHN0b3JlIGZyb20gIi4uL3N0b3JlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmVnaXN0ZXIiLAogIGRhdGE6ICgpID0+ICh7CiAgICBzdGVwOiAxLAogICAgdXNlcm5hbWU6ICIiLAogICAgdXNlcm5hbWVSdWxlczogWyh2KSA9PiAhIXYgfHwgIk5hbWUgaXMgcmVxdWlyZWQiXSwKICAgIHZhbGlkOiB0cnVlLAogIH0pLAogIG1ldGhvZHM6IHsKICAgIG5leHRTdGVwTG9naWMoKSB7CiAgICAgIHRoaXMuc3RlcCsrOwogICAgICBpZiAodGhpcy5zdGVwID09PSAzKSB7CiAgICAgICAgYXhpb3MKICAgICAgICAgIC5wb3N0KCIvdXNlcnMiLCB7IG5hbWU6IHRoaXMudXNlcm5hbWUgfSkKICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICBsZXQgdXNlcm5hbWUgPSBKU09OLnBhcnNlKHJlc3BvbnNlLmNvbmZpZy5kYXRhKTsKICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goInJvb21zL3NldFJlZ2lzdGVyZWRVc2VyIiwgewogICAgICAgICAgICAgIG5hbWU6IHVzZXJuYW1lLm5hbWUsCiAgICAgICAgICAgICAgaWQ6IHJlc3BvbnNlLmRhdGEudXNlcklkLAogICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogIkdyb3VwU2VsZWN0IiB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjdXJyZW50VGl0bGUoKSB7CiAgICAgIHN3aXRjaCAodGhpcy5zdGVwKSB7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgcmV0dXJuICJTaWduLXVwIjsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuICJBY2NvdW50IGNyZWF0ZWQiOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-card class=\"mx-auto\" max-width=\"500\" style=\"margin-top: 50px\">\n    <v-card-title class=\"title font-weight-regular justify-space-between\">\n      <span>{{ currentTitle }}</span>\n      <v-avatar color=\"primary lighten-2\" class=\"subheading white--text\" size=\"24\" v-text=\"step\"></v-avatar>\n    </v-card-title>\n    <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n      <v-window v-model=\"step\">\n        <v-window-item :value=\"1\">\n          <v-card-text>\n            <v-text-field\n              v-model=\"username\"\n              :rules=\"usernameRules\"\n              label=\"Name\"\n              placeholder=\"chat name\"\n            ></v-text-field>\n            <span\n              class=\"caption grey--text text--darken-1\"\n            >This is the Name you will use to login to your chat</span>\n          </v-card-text>\n        </v-window-item>\n\n        <v-window-item :value=\"2\">\n          <div class=\"pa-4 text-center\">\n            <v-img class=\"mb-4\" contain height=\"128\" src=\"@/assets/puppy.jpg\"></v-img>\n            <h3 class=\"title font-weight-light mb-2\">Welcome to the Chat Board</h3>\n            <span class=\"caption grey--text\">Thanks for signing up!</span>\n          </div>\n        </v-window-item>\n      </v-window>\n    </v-form>\n\n    <v-divider></v-divider>\n\n    <v-card-actions>\n      <v-btn :disabled=\"step === 1\" text @click=\"step--\">Back</v-btn>\n      <v-spacer></v-spacer>\n      <v-btn color=\"primary\" :disabled=\"!valid\" depressed @click=\"nextStepLogic\">Next</v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nconst axios = require(\"axios\");\nimport store from \"../store\";\n\nexport default {\n  name: \"Register\",\n  data: () => ({\n    step: 1,\n    username: \"\",\n    usernameRules: [(v) => !!v || \"Name is required\"],\n    valid: true,\n  }),\n  methods: {\n    nextStepLogic() {\n      this.step++;\n      if (this.step === 3) {\n        axios\n          .post(\"/users\", { name: this.username })\n          .then((response) => {\n            let username = JSON.parse(response.config.data);\n            store.dispatch(\"rooms/setRegisteredUser\", {\n              name: username.name,\n              id: response.data.userId,\n            }).then(() => {\n                this.$router.push({ name: \"GroupSelect\" });\n            });\n          })\n          .catch(function (error) {\n            console.log(error);\n          });\n      }\n    },\n  },\n  computed: {\n    currentTitle() {\n      switch (this.step) {\n        case 1:\n          return \"Sign-up\";\n        default:\n          return \"Account created\";\n      }\n    },\n  },\n};\n</script>"]}]}